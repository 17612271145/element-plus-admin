let e=document.createElement("style");e.innerHTML=".el-menu{background-color:#001529}.el-menu .el-menu{background-color:#000c17}.el-menu-item:focus,.el-menu-item:hover,.el-submenu__title:hover{background-color:transparent}.el-menu-item.is-active{background-color:#1890ff;color:#fff}.layout-sidebar-menubar .el-menu{border-right:0}.layout-main-content .el-scrollbar,.layout-sidebar-menubar .el-scrollbar{height:100%}.layout-main-content .el-scrollbar .el-scrollbar__wrap,.layout-sidebar-menubar .el-scrollbar .el-scrollbar__wrap{overflow-y:scroll;overflow-x:hidden}",document.head.appendChild(e);import{d as t,u as a,a as l,c as n,r as s,w as o,b as r,o as u,e as i,f as c,g as d,T as m,K as h,h as p,t as b,F as f,i as y,j as g,k as v,l as w,m as x,n as L,p as k,q as C,s as _}from"./index.2d40f6f7.js";var M=t({name:"LayoutContent",setup(){const e=a(),t=l(),r=n((()=>e.path));let u=s({cachedViews:[...t.state.layout.tags.cachedViews]});return o((()=>t.state.layout.tags.cachedViews.length),(()=>u.cachedViews=[...t.state.layout.tags.cachedViews])),{key:r,data:u}}});M.render=function(e,t,a,l,n,s){const o=r("router-view"),b=r("el-scrollbar");return u(),i(b,null,{default:c((()=>[d(o,null,{default:c((({Component:t})=>[d(m,{name:"fade-transform",mode:"out-in"},{default:c((()=>[(u(),i(h,{include:e.data.cachedViews},[(u(),i(p(t),{key:e.key,class:"page"}))],1032,["include"]))])),_:2},1024)])),_:1})])),_:1})};var T=t({name:"MenubarItem",props:{menuList:{type:Object,default:()=>({})}},setup(e){const t=n((()=>e.menuList.children.filter((e=>!e.hidden))));return{haChild:e.menuList.children&&e.menuList.children.length>0,cMenuList:t}}});T.render=function(e,t,a,l,n,s){const o=r("_self"),m=r("el-menu-item-group"),h=r("el-submenu"),p=r("el-menu-item");return e.haChild?(u(),i(h,{key:e.menuList.path,index:e.menuList.path},{title:c((()=>[d("i",{class:e.menuList.meta.icon||"el-icon-location"},null,2),d("span",null,b(e.menuList.meta.title),1)])),default:c((()=>[d(m,null,{default:c((()=>[(u(!0),i(f,null,y(e.cMenuList,(e=>(u(),i(o,{key:e.path,index:e.path,"menu-list":e},null,8,["index","menu-list"])))),128))])),_:1})])),_:1},8,["index"])):(u(),i(p,{key:e.menuList.path,index:e.menuList.path},{title:c((()=>[g(b(e.menuList.meta.title),1)])),default:c((()=>[d("i",{class:e.menuList.meta.icon||"el-icon-setting"},null,2)])),_:1},8,["index"]))};var A=t({name:"LayoutMenubar",components:{MenubarItem:T},setup(){const e=l(),t=a(),s=v(),{menubar:o}=e.state.layout,r=o.menuList.filter((e=>!e.hidden));return{menubar:o,menuList:r,activeMenu:n((()=>t.meta.activeMenu?t.meta.activeMenu:t.path)),onOpenChange:e=>s.push({path:e})}}});A.render=function(e,t,a,l,n,s){const o=r("menubar-item"),m=r("el-menu"),h=r("el-scrollbar");return u(),i(h,{"wrap-class":"scrollbar-wrapper"},{default:c((()=>[d(m,{"default-active":e.activeMenu,collapse:1===e.menubar.status||3===e.menubar.status,class:"el-menu-vertical-demo w-64","collapse-transition":!1,"text-color":"#fff","unique-opened":!0,onSelect:e.onOpenChange},{default:c((()=>[(u(!0),i(f,null,y(e.menuList,(e=>(u(),i(o,{key:e.path,index:e.path,"menu-list":e},null,8,["index","menu-list"])))),128))])),_:1},8,["default-active","collapse","onSelect"])])),_:1})};var N=t({name:"LayoutNavbar",setup(){const e=l(),t=(e=>{const t=()=>{const t=[];return e.matched[0]&&"Dashboard"===e.matched[0].name||e.matched.forEach((e=>{const a={title:e.meta.title,path:e.path};t.push(a)})),t};let a=s({breadcrumbList:t()});return o((()=>e.path),(()=>a.breadcrumbList=t())),a})(a());return{menubar:e.state.layout.menubar,changeCollapsed:()=>e.commit("layout/changeCollapsed"),logout:()=>e.commit("layout/logout"),data:t}}});const O={class:"flex items-center px-4"},V={class:"px-4"},z=g(" 主页 "),E={class:"flex items-center px-4"},W=d("span",{class:"el-dropdown-link"},[g(" admin"),d("i",{class:"el-icon-arrow-down el-icon--right"})],-1),j=g("个人中心"),I=g("项目地址"),P=g(" 退出登录 ");N.render=function(e,t,a,l,n,s){const o=r("el-breadcrumb-item"),m=r("el-breadcrumb"),h=r("el-dropdown-item"),p=r("el-dropdown-menu"),v=r("el-dropdown");return u(),i(f,null,[d("div",O,[d("span",{class:["text-2xl cursor-pointer",{"el-icon-s-fold":!e.menubar.status,"el-icon-s-unfold":e.menubar.status}],onClick:t[1]||(t[1]=(...t)=>e.changeCollapsed&&e.changeCollapsed(...t))},null,2),d("div",V,[d(m,{separator:"/"},{default:c((()=>[d(o,{to:{path:"/"}},{default:c((()=>[z])),_:1}),(u(!0),i(f,null,y(e.data.breadcrumbList,(e=>(u(),i(o,{key:e.path,to:e.path},{default:c((()=>[g(b(e.title),1)])),_:2},1032,["to"])))),128))])),_:1})])]),d("div",E,[d(v,null,{dropdown:c((()=>[d(p,null,{default:c((()=>[d(h,null,{default:c((()=>[j])),_:1}),d(h,null,{default:c((()=>[I])),_:1}),d(h,{divided:"",onClick:e.logout},{default:c((()=>[P])),_:1},8,["onClick"])])),_:1})])),default:c((()=>[W])),_:1})])],64)};var X=t({name:"LayoutTags",setup(){const e=l(),t=a(),n=v();w((()=>{e.commit("layout/addCachedViews",{name:t.name,noCache:t.meta.noCache})}));const r=((e,t,a)=>{const l=s({left:"0px",top:"0px",display:"none"}),n=x(null);let o=null;return document.body.addEventListener("click",(()=>l.display="none")),{menuPos:l,contextRightMenu:(e,t)=>{o=e,l.display="block",L((()=>{let e=t.clientX-5;t.clientX+n.value.offsetWidth>document.body.offsetWidth&&(e=t.clientX-n.value.offsetWidth),l.left=e+"px",l.top=t.clientY+10+"px"}))},refresh:()=>{o.path===a.path?t.replace("/redirect"+o.path):t.push("/redirect"+o.path)},rightMenuEl:n,closeOther:()=>e.commit("layout/removeOtherTagNav",o)}})(e,n,t);return{removeTagNav:a=>e.commit("layout/removeTagNav",{cPath:t.path,tagsList:a}),...(e=>{const{tagsList:t}=e.state.layout.tags,a=x(null),l=x([]);return o((()=>t.length),(()=>L((()=>{a.value.update(),L((()=>{const e=l.value.filter((e=>e)).reduce(((e,t)=>e+t.offsetWidth+6),0)-a.value.wrap.offsetWidth+70;e>0&&(a.value.wrap.scrollLeft=e)}))})))),k((()=>{l.value=[]})),{tagsList:t,scrollbar:a,layoutTagsItem:l}})(e),...r,closeAll:()=>e.commit("layout/removeAllTagNav")}}});const q={class:"position"},D={class:"layout-tags-container whitespace-nowrap"},R={key:0,class:"rounded-full inline-block w-2 h-2 bg-white -ml-1 mr-1"};X.render=function(e,t,a,l,n,s){const o=r("router-link"),m=r("el-scrollbar");return u(),i("div",q,[d(m,{ref:"scrollbar","wrap-class":"scrollbar-wrapper"},{default:c((()=>[d("div",D,[(u(!0),i(f,null,y(e.tagsList,((t,a)=>(u(),i("span",{key:t.path,ref:t=>{e.layoutTagsItem[a]=t},class:["border border-gray-200 px-2 py-1 mx-1 cursor-pointer",{"bg-blue-500":t.isActive,"text-white":t.isActive}],onContextmenu:C((a=>e.contextRightMenu(t,a)),["prevent"])},[t.isActive?(u(),i("i",R)):_("",!0),d(o,{to:t.path},{default:c((()=>[g(b(t.title),1)])),_:2},1032,["to"]),0!==a?(u(),i("i",{key:1,class:"el-icon-close text-xs hover:bg-gray-300 hover:text-white rounded-full p-0.5 ml-1 -mr-1",onClick:a=>e.removeTagNav(t)},null,8,["onClick"])):_("",!0)],42,["onContextmenu"])))),128))])])),_:1},512),d("ul",{ref:"rightMenuEl",class:"border border-gray-200 absolute w-24 leading-none bg-white shadow-md rounded-lg py-0.5 z-10",style:e.menuPos},[d("li",{class:"px-4 py-2 cursor-pointer hover:bg-gray-200",onClick:t[1]||(t[1]=(...t)=>e.refresh&&e.refresh(...t))}," 刷新 "),d("li",{class:"px-4 py-2 cursor-pointer hover:bg-gray-200",onClick:t[2]||(t[2]=(...t)=>e.closeOther&&e.closeOther(...t))}," 关闭其它 "),d("li",{class:"px-4 py-2 cursor-pointer hover:bg-gray-200",onClick:t[3]||(t[3]=(...t)=>e.closeAll&&e.closeAll(...t))}," 关闭所有 ")],4)])};var S=t({name:"Layout",components:{LayoutContent:M,LayoutMenubar:A,LayoutNavbar:N,LayoutTags:X},setup(){const e=l(),t=()=>e.commit("layout/changeDeviceWidth");return w((()=>{t();const e=function(e=500){let t=null,a=!0;return()=>new Promise((l=>a?(l(),a=!1):!t&&void(t=setTimeout((()=>{clearTimeout(t),t=null,l()}),e))))}(300);window.addEventListener("resize",(async function(){await e(),t()}),!0)})),{menubar:e.state.layout.menubar,changeCollapsed:()=>e.commit("layout/changeCollapsed")}}});const F={class:"layout flex h-screen"},H={class:"layout-sidebar-logo flex h-12 bg-logo text-white relative z-10 flex-center"},K={class:"layout-sidebar-menubar flex flex-1 overflow-hidden"},Y={class:"layout-main flex flex-1 flex-col overflow-x-hidden overflow-y-auto"},B={class:"layout-main-navbar flex justify-between items-center h-12 shadow-sm border-b border-gray-100"},G={class:"layout-main-tags h-10 leading-10 overflow-hidden shadow text-sm text-gray-600 px-3 position z-10"},J={class:"layout-main-content flex-1 overflow-hidden"};S.render=function(e,t,a,l,n,s){const o=r("layout-menubar"),c=r("layout-navbar"),m=r("layout-tags"),h=r("layout-content");return u(),i("div",F,[d("div",{class:["layout-sidebar-mask fixed w-screen h-screen bg-black bg-opacity-25 z-10",{hidden:2!==e.menubar.status}],onClick:t[1]||(t[1]=(...t)=>e.changeCollapsed&&e.changeCollapsed(...t))},null,2),d("div",{class:["layout-sidebar flex flex-col bg-menubar h-screen transition-width duration-200 z-20",{"w-64":0===e.menubar.status||2===e.menubar.status,"w-0":3===e.menubar.status,"w-16":1===e.menubar.status,absolute:2===e.menubar.status}]},[d("div",H,b(0===e.menubar.status||2===e.menubar.status?"hsianglee":1===e.menubar.status?"lee":""),1),d("div",K,[d(o)])],2),d("div",Y,[d("div",B,[d(c)]),d("div",G,[d(m)]),d("div",J,[d(h)])])])};export default S;
